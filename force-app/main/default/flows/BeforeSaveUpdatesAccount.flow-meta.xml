<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>49.0</apiVersion>
    <assignments>
        <name>AccountStatus</name>
        <label>Account Status</label>
        <locationX>578</locationX>
        <locationY>2495</locationY>
        <assignmentItems>
            <assignToReference>$Record.Account_Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>forAccountStatus</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>SubStatusRequirements</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Last_Status_Update</name>
        <label>Assign Last Status Update</label>
        <locationX>446</locationX>
        <locationY>1703</locationY>
        <assignmentItems>
            <assignToReference>$Record.LastStatusDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>IsAccountOwnerUpdated</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Type_Merchant</name>
        <label>Assign Type = Merchant</label>
        <locationX>1062</locationX>
        <locationY>1319</locationY>
        <assignmentItems>
            <assignToReference>$Record.AccountType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Merchant</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Merchant_Status_Changed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Type_Merchant_Partner</name>
        <label>Assign Type = Merchant&amp;Partner</label>
        <locationX>798</locationX>
        <locationY>1319</locationY>
        <assignmentItems>
            <assignToReference>$Record.AccountType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Merchant &amp; Partner</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Merchant_Status_Changed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Type_Partner</name>
        <label>Assign Type = Partner</label>
        <locationX>534</locationX>
        <locationY>1319</locationY>
        <assignmentItems>
            <assignToReference>$Record.AccountType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Partner</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Merchant_Status_Changed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignBcFields</name>
        <label>Assign BC fields</label>
        <locationX>446</locationX>
        <locationY>611</locationY>
        <assignmentItems>
            <assignToReference>$Record.InitialLeadSource__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Referral</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.InitialLeadSourceDetail__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Partner</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>NewOrUpdatedPartnerReferralContact</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>ClearSubStatusValue</name>
        <label>Clear Sub Status Value</label>
        <locationX>842</locationX>
        <locationY>2711</locationY>
        <assignmentItems>
            <assignToReference>$Record.AccountSubStatus__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>isPartnerAccount</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Global_Partner_Manager</name>
        <label>Set Global Partner Manager</label>
        <locationX>83</locationX>
        <locationY>3119</locationY>
        <assignmentItems>
            <assignToReference>$Record.GlobalPartnerManager__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>SetGlobalPartnerManager2</name>
        <label>SetGlobalPartnerManager</label>
        <locationX>347</locationX>
        <locationY>3227</locationY>
        <assignmentItems>
            <assignToReference>$Record.GlobalPartnerManager__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Parent.GlobalPartnerManager__c</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>SetPartnerReferralContactOwner</name>
        <label>Set Partner Referral Contact Owner</label>
        <locationX>446</locationX>
        <locationY>911</locationY>
        <assignmentItems>
            <assignToReference>$Record.PartnerReferralContactOwner__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.PartnerReferralContact__r.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Account_Type_Creation_Bypass</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Put in the Account Id which is used to match a Lead in the conversion screen to an existing Account</description>
        <name>UpdateLeanDataAccountID</name>
        <label>Update LeanData Account ID</label>
        <locationX>578</locationX>
        <locationY>395</locationY>
        <assignmentItems>
            <assignToReference>$Record.Fax</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>NewBcAccount</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>UpdateRecordTypeToProspect</name>
        <label>Update Record Type to Prospect</label>
        <locationX>446</locationX>
        <locationY>2303</locationY>
        <assignmentItems>
            <assignToReference>$Record.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Label.Prospect_Account_V2</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AccountStatus</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>UpdateSalesArea</name>
        <label>Update Sales Area</label>
        <locationX>446</locationX>
        <locationY>2003</locationY>
        <assignmentItems>
            <assignToReference>$Record.SalesArea__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Owner.SalesArea__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>IsOpportunityRelatedToSuspectAccount</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>UpdateSubStatusToMQA</name>
        <label>Update Sub Status to MQA</label>
        <locationX>50</locationX>
        <locationY>2711</locationY>
        <assignmentItems>
            <assignToReference>$Record.AccountSubStatus__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>MQA</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>isPartnerAccount</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>UpdateSubStatusToOutreach</name>
        <label>Update Sub Status to Outreach</label>
        <locationX>578</locationX>
        <locationY>2711</locationY>
        <assignmentItems>
            <assignToReference>$Record.AccountSubStatus__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Outreach</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>isPartnerAccount</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Picklist value Target Account label changed to &apos;Available&apos;</description>
        <name>UpdateSubStatusToTargetAccount</name>
        <label>Update Sub Status to Available</label>
        <locationX>314</locationX>
        <locationY>2711</locationY>
        <assignmentItems>
            <assignToReference>$Record.AccountSubStatus__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Target Account</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>isPartnerAccount</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>WebsiteDomain</name>
        <label>Website Domain</label>
        <locationX>578</locationX>
        <locationY>287</locationY>
        <assignmentItems>
            <assignToReference>$Record.WebsiteMatching__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>forWebsiteDomain</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>UpdateLeanDataAccountID</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Account_Type</name>
        <label>Account Type</label>
        <locationX>798</locationX>
        <locationY>1211</locationY>
        <defaultConnector>
            <targetReference>Assign_Type_Merchant</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Merchant</defaultConnectorLabel>
        <rules>
            <name>Partner</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.NumberPartnerTypes__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.MerchantCoreBusinessModel__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Type_Partner</targetReference>
            </connector>
            <label>Partner</label>
        </rules>
        <rules>
            <name>Merchant_Partner</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.NumberPartnerTypes__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.MerchantCoreBusinessModel__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Type_Merchant_Partner</targetReference>
            </connector>
            <label>Merchant&amp;Partner</label>
        </rules>
    </decisions>
    <decisions>
        <name>Account_Type_Creation_Bypass</name>
        <label>Account Type Creation Bypass</label>
        <locationX>578</locationX>
        <locationY>1103</locationY>
        <defaultConnector>
            <targetReference>Account_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Record Updated</defaultConnectorLabel>
        <rules>
            <name>Recorded_created</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>forIsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Business_Account</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_Merchant_Status_Changed</targetReference>
            </connector>
            <label>Recorded Created</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Merchant_Status_Changed</name>
        <label>Is Merchant Status Changed?</label>
        <locationX>578</locationX>
        <locationY>1595</locationY>
        <defaultConnector>
            <targetReference>IsAccountOwnerUpdated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account_Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.Account_Status__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Last_Status_Update</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsAccountOwnerUpdated</name>
        <label>Is Account Owner Updated?</label>
        <locationX>578</locationX>
        <locationY>1895</locationY>
        <defaultConnector>
            <targetReference>IsOpportunityRelatedToSuspectAccount</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>AccountOwnerIsUpdated</name>
            <conditionLogic>1 OR (2 AND 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.OwnerId</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateSalesArea</targetReference>
            </connector>
            <label>Account Owner Is Updated</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsOpportunityRelatedToSuspectAccount</name>
        <label>Is opportunity related to suspect account?</label>
        <locationX>578</locationX>
        <locationY>2195</locationY>
        <defaultConnector>
            <targetReference>AccountStatus</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>OpportunityIsRelatedToSuspectAccount</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Count_of_opportunities__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>forSuspectAccountRT</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateRecordTypeToProspect</targetReference>
            </connector>
            <label>Opportunity is related to suspect account</label>
        </rules>
    </decisions>
    <decisions>
        <name>isPartnerAccount</name>
        <label>Is Partner Account</label>
        <locationX>578</locationX>
        <locationY>2903</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PartnerAccountv2</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>IsUltimateParent</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsUltimateParent</name>
        <label>IsUltimateParent</label>
        <locationX>281</locationX>
        <locationY>3011</locationY>
        <defaultConnector>
            <targetReference>ParentAccountChanged</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>IsUltimateParentAccount</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ParentId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Global_Partner_Manager</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>NewBcAccount</name>
        <label>New BC Account?</label>
        <locationX>578</locationX>
        <locationY>503</locationY>
        <defaultConnector>
            <targetReference>NewOrUpdatedPartnerReferralContact</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>IsNewBcAccount</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Referral__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>forBigCommerceAccountId</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignBcFields</targetReference>
            </connector>
            <label>Is New BC Account</label>
        </rules>
    </decisions>
    <decisions>
        <name>NewOrUpdatedPartnerReferralContact</name>
        <label>New or Updated Partner Referral Contact?</label>
        <locationX>578</locationX>
        <locationY>803</locationY>
        <defaultConnector>
            <targetReference>Account_Type_Creation_Bypass</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesNewOrUpdatedPartnerReferralContact</name>
            <conditionLogic>(1 AND 2 AND 3) OR (4 AND 5 AND 6)</conditionLogic>
            <conditions>
                <leftValueReference>forIsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PartnerReferralContact__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PartnerReferralContactOwner__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PartnerReferralContact__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PartnerReferralContactOwner__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ConvertedAutomationExecuted__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SetPartnerReferralContactOwner</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>ParentAccountChanged</name>
        <label>ParentAccountChanged</label>
        <locationX>479</locationX>
        <locationY>3119</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>ParentAccountIsChanged</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ParentId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.ParentId</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ParentId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SetGlobalPartnerManager2</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>Sub status picklist value Target Account label changed to Available</description>
        <name>SubStatusRequirements</name>
        <label>Sub Status Requirements</label>
        <locationX>578</locationX>
        <locationY>2603</locationY>
        <defaultConnector>
            <targetReference>isPartnerAccount</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Do Nothing</defaultConnectorLabel>
        <rules>
            <name>MQARequirements</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.UnmanagedUser</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Suspect</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AccountScore__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateSubStatusToMQA</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>MQA Requirements</label>
        </rules>
        <rules>
            <name>TargetAccountRequirements</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.UnmanagedUser</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Suspect</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AccountScore__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateSubStatusToTargetAccount</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Available Requirements</label>
        </rules>
        <rules>
            <name>OutreachRequirements</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Label.UnmanagedUser</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Suspect</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateSubStatusToOutreach</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Outreach Requirements</label>
        </rules>
        <rules>
            <name>EmptySubStatus</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account_Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Suspect</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AccountSubStatus__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ClearSubStatusValue</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Empty Sub Status</label>
        </rules>
    </decisions>
    <description>05/06/2023. Sub status Target Account Label changed to Available.
16/01/2023 Cas Hefti: Removed the Decision and Assignment nodes which checked the RecordType and if it&apos;s changed, setting the Account Live Date accordingly.</description>
    <environments>Default</environments>
    <formulas>
        <name>forAccountFirstLiveDate</name>
        <dataType>Date</dataType>
        <expression>IF(AND({!$Record.RecordTypeId}={!$Label.Live_Account_V2},ISBLANK({!$Record.Account_First_Live_Date__c})),
{!$Flow.CurrentDate},{!$Record.Account_First_Live_Date__c})</expression>
    </formulas>
    <formulas>
        <name>forAccountLiveDate</name>
        <dataType>Date</dataType>
        <expression>IF({!$Record.RecordTypeId}={!$Label.Live_Account_V2},{!$Flow.CurrentDate},NULL)</expression>
    </formulas>
    <formulas>
        <name>forAccountsTargetYear</name>
        <dataType>String</dataType>
        <expression>TEXT(YEAR({!$Record.AccountLiveDate__c}))</expression>
    </formulas>
    <formulas>
        <name>forAccountStatus</name>
        <dataType>String</dataType>
        <expression>IF(AND({!$Record.RecordTypeId}={!$Label.Partner_Account_v2}, TEXT({!$Record.PartnerStatus__c})=&apos;Active&apos;),&apos;Active&apos;,
IF(AND({!$Record.RecordTypeId}={!$Label.Partner_Account_v2}, TEXT({!$Record.PartnerStatus__c})=&apos;Inactive&apos;),&apos;Inactive&apos;,
IF({!$Record.RecordTypeId}={!$Label.Investor_Account}, &quot;&quot;,
IF({!$Record.RecordTypeId}={!$Label.Competitor_Account}, &quot;&quot;,
IF(AND({!$Record.BO_Status__c} = &apos;Active&apos;, {!$Record.IsTransacting__c} = true), &apos;Transacting&apos;,
IF({!$Record.BO_Status__c} = &apos;Active&apos;, &apos;Live&apos;,
IF(OR({!$Record.BO_Status__c} = &apos;InactiveWithModifications&apos;, {!$Record.BO_Status__c} = &apos;Inactive&apos;),&apos;Churning&apos;,
IF({!$Record.BO_Status__c} = &apos;Closed&apos;, &apos;Churned&apos;,
IF(AND({!$Record.Count_of_opportunities__c} = 0,{!$Record.RecordType.DeveloperName} &lt;&gt; &apos;Business_Account&apos;), &apos;Suspect&apos;,
IF(OR(AND({!$Record.Has_Opportunity_in_Contract_Signed__c} &gt; 0, {!$Record.Has_Live_Opportunity__c} = 0), AND({!$Record.Has_Live_Opportunity__c} &gt; 0, OR({!$Record.BO_Status__c} == &apos;PreActive&apos;, {!$Record.BO_Status__c} == null))), &apos;Onboarding&apos;,
IF(AND({!$Record.Has_Open_Opportunity__c} &gt; 0, {!$Record.Has_Opportunity_in_Contract_Signed__c} = 0, OR({!$Record.BO_Status__c} == &apos;PreActive&apos;, {!$Record.BO_Status__c} == null)), &apos;Prospect&apos;,
&apos;Suspect&apos;)))))))))))</expression>
    </formulas>
    <formulas>
        <name>forBigCommerceAccountId</name>
        <dataType>String</dataType>
        <expression>{!$Label.BigCommerceAccountId}</expression>
    </formulas>
    <formulas>
        <name>forIsNew</name>
        <dataType>Boolean</dataType>
        <expression>ISNEW()</expression>
    </formulas>
    <formulas>
        <name>forMerchantStatus</name>
        <dataType>String</dataType>
        <expression>TEXT({!$Record.Account_Status__c})</expression>
    </formulas>
    <formulas>
        <name>forSuspectAccountRT</name>
        <dataType>String</dataType>
        <expression>{!$Label.SuspectAccount}</expression>
    </formulas>
    <formulas>
        <name>forWebsiteDomain</name>
        <dataType>String</dataType>
        <expression>SUBSTITUTE(SUBSTITUTE(SUBSTITUTE({!$Record.Website},&quot;http://&quot;, &quot;&quot; ),&quot;https://&quot;, &quot;&quot;), &quot;www.&quot;,&quot;&quot; )</expression>
    </formulas>
    <interviewLabel>Before-Save Updates Account {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Before-Save Updates Account</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <start>
        <locationX>452</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>WebsiteDomain</targetReference>
        </connector>
        <object>Account</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordBeforeSave</triggerType>
    </start>
    <status>Active</status>
    <variables>
        <name>varAccountsTargetId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
